<script src="/socket.io/socket.io.js"></script>
<script>
  
  var socket = io('http://localhost:8000');

  socket.on('news', function (data) {
    console.log(data);
    socket.emit('my other event', { my: 'data' });
  });

  socket.on('join', function (data) {
    
    console.log('someone joined');
    console.log(data);

  });

  socket.on('leave', function (data) {
    
    console.log('someone left');
    console.log(data);

  });

  socket.emit('subscribe', {
    room: 'a-new-room',
    uuid: new Date().getTime(),
    state: {
        hello: 'world'
    }
  });

  setInterval(function(){
    
    socket.emit('whosonline', null, function(users) {
      
      console.log('whos online');
      console.log(users);

    });

  }, 5000);

</script>
